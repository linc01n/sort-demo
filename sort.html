<html>
  <head>
    <title>
      Sort
    </title>
    <script src="jquery-1.6.1.min.js"></script>
	<script src="numbers.js"></script>
	<script>
	function merge(left, right) {
    var result = [];
    var length = left.length + right.length;
    while (left.length && right.length) {
        if (left[0] < right[0]) {
            result.push(left.shift());
        } else {
            result.push(right.shift());
        }
    }
    while (left.length) {
        result.push(left.shift());
    }
    while (right.length) {
        result.push(right.shift());
    }
    return result;
}
function m_sort(a) {
    if (a.length < 2) {
        return a;
    }
    var mid = parseInt(a.length / 2);
    var left = a.slice(0, mid);
    var right = a.slice(mid, a.length);
    var result = merge(m_sort(left), m_sort(right));
    return result;
}
function insert_sort(a){
	for(var i = 0; i < a.length; i++){
		var key = a[i];
		var j = i -1;
		while( j >= 0 && a[j] > key){
			a[j+1] = a[j];
			j = j - 1;
			
		}
		a[j+1] = key;
		
		}
	return a;
}
function imp_m_sort(a){
	if (a.length < 2) {
        return a;
    }
    var mid = parseInt(a.length / 2);
    var left = a.slice(0, mid);
    var right = a.slice(mid, a.length);
    var result = merge(m_sort(left), m_sort(right));
    return result;
}
</script>
  </head>
  <body>
	<div>
	1000000 items
	</div>
    <div id="result">
    </div>
  </body>
  <script>


var before, after, result;
 before = (new Date()).getTime();
//insert_sort(numbers);
 after = (new Date()).getTime();
 var i = $("<div>");
 i.text("Insertion sort needs " + (after-before)/1000 + "s");
$("#result").append(i);
 before = (new Date()).getTime();
m_sort(numbers);
 after = (new Date()).getTime();
  var m = $("<div>");
 m.text("Merge sort needs " + (after-before)/1000 + "s");
$("#result").append(m);
</script>
</html>
